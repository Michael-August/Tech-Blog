{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nlet AdminUsersComponent = class AdminUsersComponent {\n  constructor(auth) {\n    this.auth = auth;\n    this.users = [];\n    this.isCreate = true;\n  }\n\n  ngOnInit() {\n    this.userForm = new FormGroup({\n      lastName: new FormControl('', [Validators.required]),\n      firstName: new FormControl('', [Validators.required]),\n      img: new FormControl(''),\n      email: new FormControl('', [Validators.required]),\n      role: new FormControl('', [Validators.required])\n    });\n    this.getUsers();\n  }\n\n  getUsers() {\n    this.auth.getSignedUpUsers().subscribe(res => {\n      this.users = res;\n    });\n  }\n\n  createUser() {\n    this.isCreate = true;\n    this.userForm.reset();\n  }\n\n  editUser(id) {\n    this.isCreate = false;\n    this.auth.getUsersById(id).subscribe(res => {\n      this.userForm.patchValue(res);\n    });\n  }\n\n  deleteUser(id) {\n    this.auth.deleteUser(id);\n    console.log('deleted');\n    this.getUsers();\n  }\n\n  submit(id) {\n    const payload = this.userForm.value;\n    const endPoint = this.isCreate ? this.auth.signUpUser(payload) : this.auth.updateUser(id, payload);\n    endPoint.subscribe(res => {\n      console.log(res);\n      let close = document.getElementById('close');\n      close.click();\n      Swal.fire({\n        position: 'top-end',\n        type: 'success',\n        text: `New User ${payload['firstName']} has been created successfully`,\n        showConfirmButton: false,\n        timer: 1500\n      });\n      this.getUsers();\n    });\n  }\n\n};\nAdminUsersComponent = __decorate([Component({\n  selector: 'app-admin-users',\n  templateUrl: './admin-users.component.html',\n  styleUrls: ['./admin-users.component.css']\n})], AdminUsersComponent);\nexport { AdminUsersComponent };","map":null,"metadata":{},"sourceType":"module"}